import{j as e,f as j,u as v,m as C,n as P,g as N,r as o,o as I,i as F,k as O,p as w,q as E,F as R,s as S,l as k}from"./index-B-AhRH6O.js";const B=({imageSrc:f,children:t})=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex w-full h-64 mb-6 relative bg-primary-foreground/50 shadow-lg rounded-md overflow-hidden relative after:content-[''] after:absolute after:inset-0 after:bg-gradient-to-t after:from-black/60 after:to-transparent after:pointer-events-none",children:[e.jsx("img",{src:f,alt:"Banner",className:"w-full absolute bottom-0"}),e.jsx("div",{className:"flex-1 pr-12 flex flex-col justify-end mb-4 ml-4 z-10 text-white",children:t})]}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas sed convallis magna. In hac habitasse platea dictumst. Suspendisse dapibus, lorem eget sodales rhoncus, augue ante imperdiet ipsum, quis rutrum elit velit viverra nibh."})]}),T=function(){const t=j({from:"/kategoria/$categoryId"}),h=v({from:C.fullPath}),p=P({from:"/kategoria/$categoryId"}),{getItemsByCategory:c}=N(),[y,n]=o.useState(c(t.categoryId,"PRODUCT")),{watch:i,...x}=I(),{setValue:b}=x,l=c(t.categoryId,"PRODUCT");o.useEffect(()=>{n(c(t.categoryId,"PRODUCT"))},[t]);const u=o.useCallback(s=>{if(!Object.entries(s).some(([d,m])=>d!=="category"&&F(m)))return n(l);n(O(l,s))},[l]);o.useEffect(()=>{Object.entries(p).forEach(([s,a])=>b(s,a)),u(p)},[]),o.useEffect(()=>{const{unsubscribe:s}=i(a=>{u(a);const d=Object.fromEntries(Object.entries(a).filter(([m,g])=>m!=="category"&&(Array.isArray(g)&&g.length>0||g===!0)));h({search:d,replace:!0,resetScroll:!1})});return()=>s()},[i,u,h]);const r=t!=null&&t.categoryId?w(E,t.categoryId):null;return e.jsx("section",{className:"container py-8",children:e.jsx("div",{className:"grid grid-flow-col grid-cols-[auto_1fr] gap-30",children:e.jsxs(R,{watch:i,...x,children:[e.jsx(S,{type:"PRODUCT"}),e.jsxs("div",{children:[(r==null?void 0:r.image)&&e.jsx(B,{imageSrc:r.image,children:e.jsx(e.Fragment,{children:e.jsx("h1",{className:"font-bold text-3xl mb-1",children:r.name})})}),e.jsx(k,{products:y,type:"produkt"})]})]})})})};export{T as component};
